{% extends 'base_generic.html' %}

{% block content %}
    {% load widget_tweaks %}
    <script>
        {% for type, error_text in form.errors.items %}

            $.notify({
                message: '{{ error_text }}'
            },{
                type: 'danger',
                delay: 6000
            },{
                animate: {
                    enter: 'animated fadeInRight',
                    exit: 'animated fadeOutRight'
                }
            });
        {% endfor %}
    </script>
    <div class="alert alert-warning" role="alert">
      The DDB Importer only fully imports SRD Monsters. Non-SRD monsters get cropped unless you added them to your creature collection already.<br>
        If a creature with the same name is already in your collection, it will take your creature settings instead of those from DDB.
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="row">
        <div class="col-md-8">
            <div class="card col-md-8 bg-light mx-auto pull-right">
                <div class="card-header bg-light bg-light">
                    <h3 class="card-title bg-light">Create Dndbeyond Encounter Bestiary</h3>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}

                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <p>Enter a Dndbeyond Encounter URL </p>
                                    {{  form.ddb_enc_url|add_class:"form-control" }}
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 mt-2">
                                <button type="submit" class="btn btn-basic btn-fill btn-block">Create Bestiary!</button>
                            </div>
                        </div>
                        &nbsp;&nbsp;
                        <div class="clearfix"></div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

